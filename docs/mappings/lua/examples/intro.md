ç»ˆäºè¦æ¥äº†å—

æ¥äº†å—

äº†å—

å—

æˆ‘ä»¬æ¿€åŠ¨äººå¿ƒçš„ lua ç¤ºä¾‹è®²è§£! åœ¨å¿™æ´»å®Œå…¶ä»–çš„äº‹ä¹‹åæˆ‘ç»ˆäºæœ‰åŠŸå¤«è…¾å‡ºæ¥åšè¿™ä¸ªæ¨¡å—äº†!
ç”±äºç¾¤å‹æƒ³è¦äº†è§£ `journeys of a bygone wanderer çš„å¼€å¤´`, `çƒˆå†•å·å€’ä¸€æœ€å`, `ç”»å¿ƒ f2 åˆ° f1 è¡”æ¥`, `WELCOME TO MEGALOPHOBIA çš„ STAFF ROLL` ç›¸å…³çš„å‰§æƒ…åˆ¶ä½œæ–¹å¼,
äºæ˜¯æˆ‘ä¼šä»ä»–ä»¬å¼€å§‹, ä»å¤´åˆ°å°¾è®²è§£å®ƒä»¬å…³é”®/æœ‰è¶£çš„éƒ¨åˆ†, ç¬¬ä¸€æ¬¡å‡ºç°çš„å‰§æƒ…æŠ€å·§æˆ‘ä¼šæä¾›ä¸€ä¸ªé“¾æ¥è·³è½¬åˆ°æ›´è¯¦ç»†çš„è§£é‡Š, ä¹‹åå†æ¬¡å‡ºç°åˆ™ä¸å†é‡å¤, é‚£ä¹ˆè¯ä¸å¤šè¯´, è®©æˆ‘ä»¬å¼€â†—~å§‹~å§~

## å®ç”¨

### å¿«é€Ÿæ‰¾åˆ°æŸä¸€æ®µæ–‡æœ¬è¢«å“ªä¸ªå®ä½“ä½¿ç”¨äº†

ä½¿ç”¨ [BinaryXML](../../useful_links.md#tools) å°†åœ°å›¾ `.bin` è½¬åŒ–ä¸º `.xml`, ä¹‹ååœ¨ Dialog æ–‡ä»¶å¤¹é‡Œçš„è¯­è¨€æ–‡ä»¶ä¸­æ‰¾åˆ°å¯¹åº”çš„ dialog key,
ä¹‹ååœ¨ `.xml` ä¸­æœç´¢è¿™ä¸ª key å³å¯(é™¤éè¿™ä¸ª key æ˜¯ç¡¬ç¼–ç çš„, å¦åˆ™è¿™ä¸ªæ–¹æ³•é€šç”¨)

> å½“ç„¶æƒ…å†µæ¯”è¾ƒç®€å•çš„è¯ç›´æ¥æ‰¾åˆ°å¯¹åº”æˆ¿é—´ç¿»ç€çœ‹å°±è¡Œäº†

### ä»æŸä¸€ä¸ªæˆ¿é—´å¼€å§‹ç ”ç©¶, æ–¹ä¾¿ç†æ¸…é¡ºåº

æ¯”å¦‚ä½ å¯ä»¥æŸ¥çœ‹ `Map -> Metadata` ä¸­çš„ `Starting Room` æ¥ä»åˆå§‹æˆ¿é—´å¼€å§‹ç ”ç©¶, è€Œä¸æ˜¯æ£é¼“äº†åŠå¤©è¿å‰§æƒ…ä»å“ªå„¿å¼€å§‹çš„éƒ½ä¸çŸ¥é“

## æŠ€å·§

æ¥ä¸‹æ¥æˆ‘ä¼šè®²è§£ä¸åŒçš„æŠ€å·§ä»¥åŠä»–ä»¬çš„å‡ºå¤„, ä½†æ˜¯ä¸ºäº†ç®€æ´, è¿™é‡Œå°±ä»¥å­—æ¯æ¥æŒ‡ä»£åœ°å›¾åäº†, å¦‚

* A: [Journeys of a Bygone Wanderer](https://www.bilibili.com/video/BV1SbWSe6EAT/)
* B: [The Solar Express(çƒˆå†•å·)](https://www.bilibili.com/video/BV1Lx4y1F7wy)
* C: [Gallery Collab(ç”»æ¸¸å¿ƒé—¨)](https://www.bilibili.com/video/BV14j421S7Zs/)
* D: [WELCOME TO MEGALOPHOBIA](https://www.bilibili.com/video/BV1Pp5qzPEtL/)
* E: [å¯»å¹´åŸ](https://www.bilibili.com/video/BV1shfHBmEpj)

### è¿åŠ¨

#### è®¾ç½® Player ä¸º Dummy çŠ¶æ€

ä½¿ç”¨ `CherryHelper/PlayerStateChange` å°†ç©å®¶çŠ¶æ€è®¾ç½®ä¸º `11`, å³ Dummy, ä¸€èˆ¬æ˜¯ç”¨åœ¨ä¸€äº›ç®€å•çš„åœºåˆè®©ç©å®¶ä¸èƒ½åŠ¨

<a id="teleport"></a>

#### ä¼ é€

* A: é€šè¿‡ Lua Cutscene è§¦å‘å¯¹åº” Flag, è§¦å‘å¯¹åº” [Trigger Trigger](../../useful_helpers/trigger_trigger.md), è§¦å‘å¯¹åº”[ä¼ é€ Trigger](../teleport.md), ä¼ é€åˆ°å¯¹åº” Teleport Target
* B: ä½ å¯ä»¥è°ƒæ•´ä¼ é€ Trigger çš„è§¦å‘æ—¶é—´, è¿™æ ·ä½ å°±å¯ä»¥ç”¨ Trigger Trigger åšä¸€ä¸ªç®€å•çš„[å¼€é—¨è¿›å…¥æ•ˆæœ](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=170)(`è®¾ç½® player çŠ¶æ€ä¸º dummy` ->
  `ä½¿ç”¨ flag ä½¿å‰æ™¯æ·¡å…¥` -> `ç­‰å¾…è‹¥å¹²æ—¶é—´åå¼€å§‹ä¼ é€`)

<a id="slip-in"></a>

#### æ»‘å…¥

B: é€šè¿‡ `XaphanHelper/Slope` æ–œå¡å®ä½“, ç”¨ lua è®©ç©å®¶å‘å³è¡Œèµ°å¹¶æ’­æ”¾ä¸‹è¹²åŠ¨ç”», å¯ä»¥å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=22)

#### å€’èµ°

B: ä½¿ç”¨ walkTo çš„æ—¶å€™æŠŠ `walkBackwards` å‚æ•°è®¾ç½®ä¸º true, å¯ä»¥å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=22)

``` lua
walkTo(15408, true) -- ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ˜¯å¦å€’ç€æ’­æ”¾åŠ¨ç”», åŒæ—¶æ°´å¹³ç¿»è½¬ä½ çš„äººç‰©è´´å›¾, è®©ä»–çœ‹èµ·æ¥å¾€å·¦è·‘ä½†å®é™…ä¸Šæ˜¯åœ¨å‘å³ç§»åŠ¨
```

### æ–‡æœ¬

<a id="show-text-by-order"></a>

#### æŒ‰åºè§¦å‘ UI æ–‡æœ¬

A: é€šè¿‡ä½¿ç”¨ Lua Cutscene è®© player å‘å³è¡Œèµ°, æŒ‰åºæ¥è§¦ [UI Text](../text.md#ui-text)

<a id="scroll-text"></a>

#### æ»šåŠ¨æ–‡æœ¬

E: ä½¿ç”¨ç¡¬å¸é—¨è®©ç©å®¶ä»ä¸Šå¾€ä¸‹è¿åŠ¨, çœ‹èµ·æ¥å°±åƒ[å­—ä»ä¸‹å¾€ä¸Šæ»šåŠ¨](https://www.bilibili.com/video/BV1shfHBmEpj/?p=2&t=1093)(è¿™é‡Œæ–‡æœ¬ä½¿ç”¨äº† `DBBHelper/AlignedText`)

### è§†æ•ˆ

<a id="black-background"></a>

#### é»‘è‰²èƒŒæ™¯

* A: å•¥èƒŒæ™¯éƒ½ä¸åŠ ä¸å°±æ˜¯é»‘è‰²çš„äº†ğŸ¤“â˜ï¸
* A: æ•´ä¸ªé»‘è‰²çš„å›¾ç‰‡(decal å•¥çš„éƒ½è¡Œ)

<a id="hide-player"></a>

#### éšè—ç©å®¶

* A: ä½¿ç”¨ `Camera Target Trigger` å°†ç›¸æœºç§»åŠ¨åˆ°ä¸€ä¸ªçœ‹ä¸åˆ°ç©å®¶çš„åœ°æ–¹
* A: ä½¿ç”¨å¼‚å˜ `ExtendedVariantMode/BooleanExtendedVariantTrigger` çš„ `AlwaysInvisible` ç›´æ¥éšè—ç©å®¶
* A: [ç›´æ¥æŠŠç©å®¶å¡åœŸé‡Œ](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=4178)
* A: [æ•´ä¸ªå‰æ™¯ç›´æ¥æŠŠç©å®¶é®ä½](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=4166)

<a id="create-npc"></a>

#### åˆ›å»º NPC

```lua
local celeste = require("#celeste")  -- å¯¼å…¥å¯¹åº”çš„å‘½åç©ºé—´, è¿™æ ·æˆ‘ä»¬æ‰èƒ½æ‹¿åˆ°å¯¹åº”çš„ä¸œè¥¿

-- åˆ›å»ºä¸€ä¸ª NPC, è¿™é‡Œä¼ å…¥äº†ç©å®¶çš„ç›¸å¯¹ä½ç½®, æ–¹ä¾¿å®šä½ NPC åº”è¯¥æ”¾åœ¨å“ª
theo = celeste.NPC(player.Position + vector2(60, 0))  -- å¿…åš
-- å°† NPC åŠ å…¥åœºæ™¯, è¿™æ · NPC æ‰æ˜¯æ´»çš„
level:Add(theo)  -- å¿…åš
-- åˆ›å»ºä¸€ä¸ªåŠ¨ç”», è¿™æ · NPC æ‰èƒ½æ˜¾ç¤ºå›¾ç‰‡(åŠ¨ç”»), è¿™é‡Œçš„ "theo" å¯¹åº” Sprites.xml é‡Œçš„åŠ¨ç”»ç»„ ID
local sprite = celeste.GFX.SpriteBank:Create("theo")  -- å¿…åš
-- æŠŠåŠ¨ç”»åº”ç”¨åˆ° NPC èº«ä¸Š, è¿™æ ·åç»­åŠ¨ç”»æ‰èƒ½ç”Ÿæ•ˆ
theo:Add(sprite)  -- å¿…åš
-- æŠŠ sprite è®¾ç½®åˆ° theo.Sprite èº«ä¸Š, æ–¹é¢åé¢å»æ‹¿è¿™ä¸ª Sprite
theo.Sprite = sprite  -- å¯é€‰
```

<a id="play-npc-animation"></a>

#### æ’­æ”¾ NPC åŠ¨ç”»

ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦æ’­æ”¾çš„åŠ¨ç”» ID, ä¹Ÿå°±æ˜¯ `Sprites.xml` åŠ¨ç”»ç»„ä¸‹å¯¹åº”çš„åŠ¨ç”» ID, å¦‚æœè¦æ’­æ”¾æ–°çš„åŠ¨ç”», é‚£ä¹ˆåŠ¨ç”»ä¼šç›´æ¥åˆ‡è¿‡å», å¦‚æœé€‰æ‹©å†æ¬¡æ’­æ”¾åŒæ ·çš„åŠ¨ç”», è¿™ä¸ªæ—¶å€™éœ€è¦å‚è€ƒç¬¬äºŒä¸ªå‚æ•°

ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ˜¯å¦è¦é‡æ–°æ’­æ”¾åŠ¨ç”», å¦‚æœä½ è¿ç»­æ’­æ”¾ç›¸åŒçš„åŠ¨ç”», åˆ°åº•æ˜¯åº”è¯¥ä¸ç†ç¬, è¿˜æ˜¯ä»è¯¥åŠ¨ç”»çš„ç¬¬ 0 å¸§å¼€å§‹é‡æ–°æ’­æ”¾

ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºæ˜¯å¦ä»éšæœºå¸§å¼€å§‹è€Œä¸æ˜¯ç¬¬ 0 å¸§

æ‰€ä»¥æ’­æ”¾åŠ¨ç”»åŸºæœ¬ä¸Šæ˜¯ä½¿ç”¨ ` sprite:Play("animation_id", false, false)`

```lua
local celeste = require("#celeste")

theo = celeste.NPC(player.Position + vector2(60, 0))
level:Add(theo)
local sprite = celeste.GFX.SpriteBank:Create("theo")
theo:Add(sprite)

sprite:Play("sitDown", false, false)
```

<a id="play-wipe"></a>

#### æ’­æ”¾æ“¦é™¤åŠ¨ç”»

æˆ‘ä»¬å¯ä»¥è°ƒç”¨é‚£äº›åŸç‰ˆçš„ç©å®¶å…¥åœº, æ­»äº¡çš„æ“¦é™¤ç‰¹æ•ˆæ¥ä¸ºæˆ‘ä»¬çš„å‰§æƒ…å¢æ·»æ´»åŠ›

```lua
-- æ‹¿åˆ°åŸç‰ˆçš„èšå…‰ç¯ wipe ç±»å‹
local spotlight = require("#Celeste.SpotlightWipe")

-- è®¾ç½®ä¸€ä¸‹èšå…‰ç¯èšç„¦ä½ç½®
spotlight.FocusPoint = player.Position - getRoom().Camera.Position + vector2(30, 0)
-- åˆ›å»ºä¸€ä¸ªèšå…‰ç¯(æ¸¸æˆä¼šè‡ªåŠ¨å°†å…¶åŠ å…¥åœºæ™¯, æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¸ç”¨è‡ªå·±åŠ äº†)
local wipe = spotlight(getRoom(), true)
-- è¡¨ç¤º wipe å°†æŒç»­ 2s
wipe.Duration = 2
```

<a id="fade-in-out-logo"></a>

#### æ·¡å…¥/å‡º Logo

B: åœ¨ `Map -> Stylegrounds` å‹¾é€‰ Fade In, å¹¶è®¾ç½®å¥½ flag, è¿™æ ·åœ¨è®¾ç½® flag åèƒŒæ™¯å°±ä¼šæ·¡å…¥
A: åœ¨ `Map -> Stylegrounds` é‡Œè®¾ç½®å¯¹åº”çš„ Logo, å¹¶ä½¿ç”¨ `MaxHelpingHand/StylegroundFadeController` æ ¹æ® flag è®¾ç½® Logo çš„æ·¡å…¥æ·¡å‡º(å¯ä»¥ç²¾ç»†çš„æ§åˆ¶æ·¡å…¥æ·¡å‡ºæ—¶é—´)

<a id="move-stylegrounds"></a>

#### ç§»åŠ¨èƒŒæ™¯å›¾ç‰‡

A: åœ¨ `Map -> Stylegrounds` é‡Œè®¾ç½®å¯¹åº”çš„å›¾ç‰‡, å¹¶ä½¿ç”¨ `FrostHelper/StylegroundMoveTrigger` æ ¹æ® flag è®¾ç½®å›¾ç‰‡çš„ç§»åŠ¨, å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=785)

<a id="flag-decal"></a>

#### æ ¹æ® flag æ˜¾ç¤º decal

A: ä½¿ç”¨ `MaxHelpingHand/FlagDecal` å³å¯, å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=957)ä¸­çš„ç«ç®­å°¾ç„°

<a id="custom-npc"></a>

#### [è‡ªå®šä¹‰ NPC](https://github.com/EverestAPI/ModResources/wiki/Helping-Hand-Entities#npcs)

* A: ä½¿ç”¨ `MaxHelpingHand/CustomNPCSprite`, åœ¨ lua ä¸­é€šè¿‡å›ºå®šä»£ç æ‹¿åˆ°å¯¹åº” NPC è€Œä¸å†æ˜¯æ‰‹åŠ¨åˆ›å»º, å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=1243)
  ä¸­çš„ <font color="EE9933">Salem</font>

```lua
local salem = celeste.Mod.MaxHelpingHand.Entities.MoreCustomNPC.GetNPC("salem")
salem:SetHorizontalScale(-1)  -- æœå·¦è½¬
salem.Maxspeed = 40
say("SSC2024_fonda_salem01")
```

<a id="bird-path"></a>

#### è·¯è¿‡çš„ Bird

A: ä½¿ç”¨ Bird Path, å¹¶ä½¿ç”¨ Eevee çš„ [Flag Toggle Modifier](../../useful_helpers/eevee.md#flag-toggle-modifier) æ ¹æ® flag è®¾ç½® Bird çš„æ¿€æ´»çŠ¶æ€

<a id="flicker-bonfire"></a>

#### é—ªçƒçš„ç«å †

A: ç«å † `Bonfire` æœ¬æ¥å°±å¯ä»¥é—ªçƒ(æ†‹ç¬‘)

#### å¤œç©ºä¸­é£èˆçš„è¤ç«è™«

A: ä½¿ç”¨ `JungleHelper/Firefly`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=115)

#### åŸç‰ˆçš„é—¨

A: ä½¿ç”¨ `door`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=350)

<a id="particle-effect"></a>

#### ç²’å­ç‰¹æ•ˆ

A: ç«ç®­å‘å°„ç²’å­ç‰¹æ•ˆ, ä½¿ç”¨ `FemtoHelper/ParticleEmitter`, æ­é… flag æ§åˆ¶, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=374)

#### è‡ªå®šä¹‰å½¢çŠ¶çš„äº‘

A: ç«ç®­å‘å°„ç²’å­ç‰¹æ•ˆ, ä½¿ç”¨ `FrostHelper/ArbitraryShapeCloud`, æ­é… flag æ§åˆ¶, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=405)

#### å°é¸Ÿ

A: ä½¿ç”¨åŸç‰ˆçš„ `flutterBird`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=378)

#### flag æ§åˆ¶çš„æ‰è½å—

A: ä½¿ç”¨ `VivHelper/CustomFallingBlock`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=3116)

#### flag æ§åˆ¶çš„ç¢å—

* A: ä½¿ç”¨ `SorbetHelper/CrumbleOnFlagBlock`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=3116)
* B: ä½¿ç”¨ Trigger Trigger æ­é…åŸç‰ˆçš„ `rumbleTrigger` å’Œ `crumbleWallOnRumble` å³å¯, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=922)

#### ä¸‹å è¿‡åœº

> è™½ç„¶å¯ä»¥åœ¨ lua ä»£ç é‡Œç›´æ¥æ”¹, ä½†æ˜¯ä½¿ç”¨ Trigger æ›´æ–¹ä¾¿æ§åˆ¶æ—¶æœº

A: ä½¿ç”¨ `CherryHelper/PlayerStateChange` å°†ç©å®¶çš„çŠ¶æ€è®¾ç½®ä¸º `TempleFall`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=3133)

#### å†²å‡»æ³¢

* B: ä½¿ç”¨ `ContortHelper/BurstEffect`, åœ¨ä¸€ä¸ªåŒºåŸŸå‘å‡ºç±»ä¼¼ `Crystal Heart`, `Strawberry`, ç­‰å®ä½“é‡Šæ”¾çš„å†²å‡»æ³¢, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=100)(
  æ¯”å¦‚é‚£ä¸ªç¬¦å·å°±æ˜¯ä¸€ä¸ª decal åŠ¨ç”»åŠ ä¸€ä¸ª burst ç‰¹æ•ˆ)
* B: ä½¿ç”¨ `ContortHelper/BurstEffectTrigger`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=822)

#### ç”µæ¢¯

B: ä½¿ç”¨ `Communal/SolarElevator`(ç§»æ¤è‡ªè‰è“é…±) å³å¯, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=390)

<a id="emoji"></a>

#### [ä½¿ç”¨ Emoji](https://github.com/EverestAPI/Resources/wiki/Adding-Custom-Dialogue#custom-emotes){:target="_blank"}

B: å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=544)

æŠŠä½ çš„ emoji å›¾ç‰‡æ”¾åˆ° `Graphics/Atlases/Gui/emoji/` ç›®å½•ä¸‹(`.png`æ ¼å¼çš„), æ¯”å¦‚ `Graphics/Atlases/Gui/emoji/MyCelesteMod/shock.png`,
å¯¹è¯å¯¹åº”æ–‡æœ¬ä¸º`:ä½ çš„å›¾ç‰‡ç›¸å¯¹è·¯å¾„(ä¸å¸¦.png):`ä¾‹å¦‚`:MyCelesteMod/shock:`

```ini
SJ2021_SOLOIINI_CABLOGENTRY =
    {anchor bottom}
    [SIGNPOST]
    Cabob æ—¥å¿— #:SJ2021_Soloiini_100:
    æ“æœå†»è·³å·²ç»æŠŠæˆ‘çš„æ‰‹ç»™æ“åºŸäº†ï¼Œä½†æˆ‘è¿˜æœ‰è„šå‘€ï¼
    å¯èƒ½ç­‰åˆ°æˆ‘æŠŠè„šä¹Ÿæ“åºŸçš„æ—¶å€™ï¼Œæˆ‘çš„é€Ÿåº¦è¿˜èƒ½å†å¿«ä¸€ç‚¹ç‚¹å§ã€‚
    æˆ‘éœ€è¦åšçš„å°±æ˜¯åˆ©ç”¨ä¸€äº›æ–¹ä¾¿æ”¾ç½®çš„ç‰©ä½“æ¥æ‰“æ–­æˆ‘çš„å†²åˆºã€‚
    å¦‚æœæˆ‘çœŸæ‰“ç®—ç¦»å¼€è¿™é‡Œåšç‚¹åˆ«çš„äº‹æƒ…è€Œä¸æ˜¯åœ¨è¿™é‡Œ{n}å†™äº›æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿ï¼Œé‚£ä¹ˆåˆšæåˆ°çš„ä¸œè¥¿å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚
```

#### ä½¿ç”¨è’™ç‰ˆ

* B: æ¯”å¦‚çƒˆå†•å·è¿™é‡Œçš„è£‚éš™å‰çš„ç²’å­ç‰¹æ•ˆ, æœ¬è´¨ä¸Šæ˜¯é»‘æ´æ”¹äº†ä¸ªè‰²ç„¶åè’™ä¸Šä¸€å±‚ `StylegroundMask`, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=822)
* C: ä½¿ç”¨ `PrismaticHelper/StylegroundsPanel`, ä½¿ç”¨å…¶ä»–æˆ¿é—´çš„èƒŒæ™¯å¹¶ä»¥è‡ªèº«ä½œä¸ºè’™ç‰ˆ, ä¸è¿‡ä½“æ„Ÿä¸Šè·Ÿç”¨ `StylegroundMask` å¯èƒ½å·®ä¸å¤š, è¿™ä¸ªåœ¨èƒŒæ™¯å¤šèµ·æ¥åå¯èƒ½ä¼šæ–¹ä¾¿ç‚¹,
  å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1bttheAEZ6/?t=821)

ä½¿ç”¨è’™ç‰ˆçš„æ–¹å¼éå¸¸çš„ç®€å•å•Š, ç»™ä½ æƒ³åŠ è’™ç‰ˆçš„ `Styleground` åŠ ä¸Šå¯¹åº” tag `mask_{xxx}`, ä¹‹åä½ åœ¨æˆ¿é—´é‡Œæ”¾ä¸€ä¸ª `StyleMaskHelper/StylegroundMask`,
åœ¨é‡Œé¢ tag å±æ€§é‡Œå¡«ä¸Š `xxx` å³å¯, è¿˜å¯ä»¥ç”¨ flag æ§åˆ¶è¯¥å®ä½“çš„æ˜¾éš(é¡ºå¸¦ä¸€æä»–çš„ fade å–çš„ä½ç½®æ˜¯æ ¹æ®ç›¸æœºä½ç½®æ¥çš„)

#### ä¸Šå‡çš„å²©æµ†

B: ä½¿ç”¨ `FrostHelper/CustomRisingLava` æ­é… `everest/lavaBlockerTrigger` å³å¯, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=934)

#### starJumpBlock è°ƒè‰²

C: ä½¿ç”¨ `everest/starClimbGraphicsController` å³å¯, å‚è€ƒ[è§†é¢‘é“¾æ¥](https://www.bilibili.com/video/BV1bttheAEZ6/?t=821)

### å£°éŸ³

<a id="close-walk_sound"></a>

#### å…³é—­è¡Œèµ°å£°éŸ³

A: ä½¿ç©å®¶åœ¨ä¸€ä¸ªå•å‘æ¿ä¸Šè¡Œèµ°, å¹¶å°†å•å‘æ¿çš„æ¥è§¦å£°éŸ³è®¾ç½®ä¸º `Resort Basement`

<a id="close-bgm"></a>

#### å…³é—­èƒŒæ™¯éŸ³ä¹

* A: ä½¿ç”¨ `Music Fade Trigger` å°†éŸ³é‡è°ƒä¸º 0
* A: ç”¨ä»£ç è°ƒæ•´ Fmod ä¸­çš„ Fade å‚æ•°, å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1SbWSe6EAT/?t=3836)

```lua
local celeste = require("#celeste")
function onBegin()
    celeste.Audio.SetMusicParam("fade", 0.0)
end
```

<a id="sound-source"></a>

#### è®¾ç½®éŸ³æº

* B: ä½¿ç”¨ `SoundSource` å³å¯, å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=361)

![sound_source](../../../assets/mappings/lua/solar/sound_source.png){style="width: 300px; title="123"}

<a id="play-sfx"></a>

#### æ’­æ”¾(éšæœº)éŸ³æ•ˆ

* B: ä½¿ç”¨ `ContortHelper/RandomSound` å³å¯, å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=446)(~~è™½ç„¶è¿™é‡Œä¼ é€å£°ä¸æ˜¯å¾ˆæ˜æ˜¾~~)

<a id="keyboard"></a>

### è¾“å…¥

æˆ‘ä»¬å¯ä»¥åœ¨ lua ä¸­ç›‘å¬è”šè“ä¸­çš„é”®ç›˜æ“ä½œ, æœ¬è´¨ä¸Šå½’å±äº [C# äº¤äº’ä¸€æ ](https://saplonily.top/celeste_mod_tutorial/extra_luacs/cs_access/)

æ¯”å¦‚æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨ flag æ˜¾ç¤ºä¸€å¼ å›¾ç‰‡, ä¹‹åå¦‚æœç©å®¶æŒ‰ä¸‹äº¤äº’é”®ä»€ä¹ˆçš„å†å…³é—­å¯¹åº”çš„ flag

```lua
local celeste = require("#celeste")

function onBegin()
    setFlag("note", true)
    local Talked = false
    while not Talked do
        if celeste.Input.MenuConfirm.Check then
            Talked = true
        else
            wait()
        end
    end
    setFlag("note", false)
end
```

### äº¤äº’

<a id="holdable-trigger"></a>

#### å¯æŠ“å–ç‰©è§¦å‘ Trigger

B: ä½¿ç”¨ Trigger Trigger çš„ Holdable Entered æ¨¡å¼å³å¯, å‚è€ƒ[è§†é¢‘](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=1111)

### å¯¹è¯

<a id="choice"></a>

#### æœ‰é€‰æ‹©çš„å¯¹è¯

ç”±äºæœ¬è´¨ä¸Šå°±æ˜¯ä½¿ç”¨ [choice](https://sapcelestemod.netlify.app/extra_luacs/reference/#choice){:target="_blank"} ç„¶åå°±å®Œäº‹äº†, ä½†æ˜¯å¦‚æœä½ æƒ³åšäº›é«˜çº§çš„åŠŸèƒ½,
æ¯”å¦‚æ¯ä¸ªå¯¹è¯éœ€è¦ä»€ä¹ˆå‰ç½®å¯¹è¯(è¯´å®Œ A æ‰èƒ½è¯´ B è¿™ç§), æ‰€ä»¥è¿™é‡Œæä¾›ä¸€ä¸ªè¾…åŠ©ç±»æ¥å¸®ä½ å®Œæˆè¿™ä»¶äº‹

é¦–å…ˆçœ‹ä¸€ä¸ªç”»æ¸¸åºç« çš„[ä¾‹å­](https://www.bilibili.com/video/BV17RsWeDE3Y/){:target="_blank"}(æ­é…äº† `LuaCutscnes/Lua Talker`), è¿™æ˜¯ choice çš„ä¸€ç§æ¯”è¾ƒå¸¸è§çš„ç”¨æ³•: åˆ—å‡ºä¸€ç³»åˆ—é€‰é¡¹,
æƒ³é€‰å“ªä¸ªé€‰å“ªä¸ª

<details>
<summary>granny.lua</summary>

```lua title="gallerycollab2024/Cutscenes/cny2024/prologue/granny.lua(å·²åˆ é™¤æ— å…³éƒ¨åˆ†)"
function onTalk()
    disableMovement()
    --é€‰æ‹©å¯¹è¯éƒ¨åˆ†
    a = 0
    repeat
        local thischoice = choice("ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_A", "ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_B", "ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_C", "ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_D")
        if thischoice == 1 then
            say("ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_A_01")
        elseif thischoice == 2 then
            say("ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_B_01")
        elseif thischoice == 3 then
            say("ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_C_01")
        elseif thischoice == 4 then
            say("ChineseNewYear2024_0_lobby_prologue_grannytea_B_MAD_D_01")
            a = 514
        else
            say("ChineseNewYear2024_0_lobby_prologue_grannytea_B")
        end
    until (a > 114)

    enableMovement()

end
```

</details>

å†çœ‹ä¸€ä¸ªçƒˆå†•å·çš„[ä¾‹å­](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=115){:target="_blank"}, 
[ä¾‹å­](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=709){:target="_blank"}æˆ–è€…[ä¾‹å­](https://www.bilibili.com/video/BV1Lx4y1F7wy/?t=1049){:target="_blank"}, è¿™æ˜¯
choice çš„ä¸€ç§æ¯”è¾ƒé«˜çº§çš„ç”¨æ³•, å¦‚æœæˆ‘ä»¬æƒ³è¦å¼¹å‡ºå¯¹è¯ B ä¹‹å‰éœ€è¦å¯¹è¯è¿‡å¯¹è¯ A, æˆ‘ä»¬å°±å¾—å†™ä¸€äº› if else(å½“ç„¶ choice æœ¬èº«æ˜¯å¾ˆæœ´ç´ çš„, å…³é”®æ˜¯æˆ‘ä»¬ä»£ç æ€ä¹ˆå†™èƒ½è®©å®ƒå®ç°æ›´ä¸°å¯Œçš„æ•ˆæœ)

<details>
<summary>conductorConversation.lua</summary>

```lua title="Assets/SJ2021/Soloiini/conductorConversation.lua(å·²åˆ é™¤æ— å…³éƒ¨åˆ†)"

local result

function onTalk()
    repeat
        if not getFlag("solex_conductorA") then
            result = choice("SJ2021_SOLOIINI_CONDUCTOR_CONV01_ASK", "SJ2021_SOLOIINI_CONDUCTOR_CONV02_ASK", "SJ2021_SOLOIINI_CONDUCTOR_CONV00_ASK")
            if result == 1 then
                say("SJ2021_SOLOIINI_CONDUCTOR_CONV01_SAY")
                setFlag("solex_conductorA")
            elseif result == 2 then
                say("SJ2021_SOLOIINI_CONDUCTOR_CONV02_SAY")
                setFlag("solex_conductorB")
            else
                result = 9
            end

        else
            if not getFlag("solex_conductorB") then
                result = choice("SJ2021_SOLOIINI_CONDUCTOR_CONV01_ASK", "SJ2021_SOLOIINI_CONDUCTOR_CONV02_ASK", "SJ2021_SOLOIINI_CONDUCTOR_CONV00_ASK")
                if result == 1 then
                    say("SJ2021_SOLOIINI_CONDUCTOR_CONV01_SAY")
                elseif result == 2 then
                    say("SJ2021_SOLOIINI_CONDUCTOR_CONV02_SAY")
                    setFlag("solex_conductorB")
                else
                    result = 9
                end

            else
                result = choice("SJ2021_SOLOIINI_CONDUCTOR_CONV01_ASK", "SJ2021_SOLOIINI_CONDUCTOR_CONV02_ASK", "SJ2021_SOLOIINI_CONDUCTOR_CONV03_ASK", "SJ2021_SOLOIINI_CONDUCTOR_CONV00_ASK")
                if result == 1 then
                    say("SJ2021_SOLOIINI_CONDUCTOR_CONV01_SAY")
                elseif result == 2 then
                    say("SJ2021_SOLOIINI_CONDUCTOR_CONV02_SAY")
                elseif result == 3 then
                    say("SJ2021_SOLOIINI_CONDUCTOR_CONV03_SAY")
                else
                    result = 9
                end
            end
        end
    until result == 9
end

```

</details>

æ‰€ä»¥ä¸ºäº†ç»Ÿä¸€è¿™äº›ç”¨æ³•, ç®€åŒ–é€»è¾‘, æˆ‘å†™äº†ä¸€ä¸ªè¾…åŠ©ç±»æ¥å¸®å¤§å®¶æ–¹ä¾¿çš„æ·»åŠ è¿™äº›é€‰é¡¹(vibe codingğŸ˜‹)

<details>
<summary>dialog_choice_helper.lua</summary>

```lua title="Mods/LuckyTestMap/Cutscenes/LuckyHelper/dialog_choice_helper.lua"
-- å¯¹è¯é€‰é¡¹ç±»
local DialogOption = {}
DialogOption.__index = DialogOption

function DialogOption:new(askString, sayString, prerequisites, alwaysAlive, callback)
    local obj = {
        ask = askString,                     -- é—®çš„å­—ç¬¦ä¸²
        say = sayString,                     -- å›ç­”çš„å­—ç¬¦ä¸²
        prerequisites = prerequisites or {}, -- å‰ç½®æ¡ä»¶tableï¼ˆflagåˆ—è¡¨ï¼‰
        alwaysAlive = alwaysAlive or false,   -- è¡¨ç¤ºæ˜¯å¦åœ¨ä»»æ„æ—¶å€™éƒ½æ˜¾ç¤º(å½“ç„¶å‰ç½®æ¡ä»¶å¾—å…ˆæ»¡è¶³)
        callback = callback   -- é€‰æ‹©å¯¹è¯æ—¶è°ƒç”¨çš„å‡½æ•°
    }
    setmetatable(obj, DialogOption)
    return obj
end

-- æ£€æŸ¥å‰ç½®æ¡ä»¶æ˜¯å¦æ»¡è¶³
function DialogOption:checkPrerequisites()
    for _, flagName in ipairs(self.prerequisites) do
        if not getFlag(flagName) then
            return false
        end
    end
    return true
end

-- è·å–å¯¹åº”çš„flagåç§°ï¼ˆæ ¹æ®askå­—ç¬¦ä¸²ç”Ÿæˆï¼‰
function DialogOption:getFlagName()
    return self.ask -- æˆ–è€…å¯ä»¥è‡ªå®šä¹‰å‘½åè§„åˆ™
end

-- å¯¹è¯ç®¡ç†å™¨ç±»
dialogChoiceHelper = {}
dialogChoiceHelper.__index = dialogChoiceHelper

function dialogChoiceHelper:new()
    local obj = {
        options = {} -- å­˜å‚¨æ‰€æœ‰å¯¹è¯é€‰é¡¹
    }
    setmetatable(obj, dialogChoiceHelper)
    return obj
end

-- æ·»åŠ å¯¹è¯é€‰é¡¹
function dialogChoiceHelper:addOption(askString, sayString, prerequisites, alwaysAlive, callback)
    local option = DialogOption:new(askString, sayString, prerequisites, alwaysAlive, callback)
    table.insert(self.options, option)
end

-- è·å–å½“å‰å¯ç”¨çš„å¯¹è¯é€‰é¡¹
function dialogChoiceHelper:getAvailableOptions()
    local available = {}
    local askStrings = {}

    for _, option in ipairs(self.options) do
        local flagName = option:getFlagName()
        -- æ£€æŸ¥ï¼š1. å‰ç½®æ¡ä»¶æ»¡è¶³ 2. è¯¥å¯¹è¯æœªè§¦å‘è¿‡æ´»å¸¸é©»
        if option:checkPrerequisites() and (not getFlag(flagName) or option.alwaysAlive == true) then
            table.insert(available, option)
            table.insert(askStrings, option.ask)
        end
    end

    return available, askStrings
end

-- è·å–å½“å‰å¯ç”¨çš„å¯¹è¯é€‰é¡¹
function dialogChoiceHelper.setTestFlag()
    setFlag("dialogChoiceHelper's Test Flag QWQ!")
end

-- æ‰§è¡Œå¯¹è¯å¾ªç¯
function dialogChoiceHelper:run(exitOption)
    repeat
        local availableOptions, askStrings = self:getAvailableOptions()

        if exitOption ~= nil then
            -- æ·»åŠ é€€å‡ºé€‰é¡¹
            table.insert(askStrings, exitOption)
        end

        -- æ²¡é€‰é¡¹çš„è¯å°±é€€å‡º
        if #askStrings == 0 then
            break
        end
        -- æ˜¾ç¤ºé€‰æ‹©
        local result = choice(table.unpack(askStrings))

        if exitOption ~= nil then
            -- å¦‚æœé€‰æ‹©äº†é€€å‡º
            if result == #askStrings then
                break
            end
        end


        local selectedOption = availableOptions[result]
        if selectedOption.callback ~= nil then
            selectedOption.callback()
        end

        say(selectedOption.say)
        setFlag(selectedOption:getFlagName())
    until false
end

return dialogChoiceHelper

```

</details>

çœ‹ä¸æ‡‚ä¹Ÿæ²¡å…³ç³», è¿™é‡Œç›´æ¥è®²ä½¿ç”¨æ–¹å¼

```lua title="Mods/LuckyTestMap/Cutscenes/LuckyHelper/Test.lua"
-- ä»ä½ çš„ Mod æ ¹ç›®å½•å¼€å§‹å¯¼å…¥è¿™ä¸ªè¾…åŠ©ç±»(åˆ«å¿˜äº†åœ¨æ—è¾¹æ–°å»ºä¸€ä¸ª lua è„šæœ¬æŠŠè¾…åŠ©ç±»çš„ä»£ç ç²˜è¿‡å»)
local dialogChoiceHelper = loadCelesteAsset("Cutscenes/LuckyHelper/dialog_choice_helper")

-- lua talker çš„å‡½æ•°å…¥å£, è¿˜æœ‰ä¸€ä¸ªæ˜¯ onEnd
function onTalk()
    disableMovement()

    -- æ–°å»ºå¯¹è¯ç®¡ç†å™¨
    local conductor = dialogChoiceHelper:new()

    -- æ·»åŠ å¯¹è¯é€‰é¡¹
    conductor:addOption(
            "A_ask", -- é—®é¢˜å¯¹åº”çš„ dialog key
            "A_answer", -- å›ç­”å¯¹åº”çš„ dialog key
            {}, -- å‰ç½®æ¡ä»¶: å¡«å¯¹åº”é—®é¢˜çš„ dialog key
            true, -- æ˜¯å¦å¸¸é©»: åœ¨æ»¡è¶³å‰ç½®æ¡ä»¶çš„æƒ…å†µä¸‹æ˜¯å¦é—®è¿‡äº†è¿˜èƒ½é—®, ä¸å¡«é»˜è®¤ä¸º false
            dialogChoiceHelper.setTestFlag  --åœ¨é€‰æ‹©å®Œå¯¹åº”å¯¹è¯å, è°ƒç”¨ä¸€ä¸ªå‡½æ•°(è¿™é‡Œå¡«å…¥å‡½æ•°åå³å¯), æ¯”å¦‚è¿™é‡Œä½ é€‰æ‹© A å¯¹è¯åä¼šè¾“å‡ºä¸€ä¸ªæµ‹è¯• flag
    )

    conductor:addOption(
            "B_ask",
            "B_answer",
            {} -- æ— å‰ç½®æ¡ä»¶
    )

    conductor:addOption(
            "C_ask",
            "C_answer",
            { "A_ask" } -- éœ€è¦å¯¹è¯ A å®Œæˆ
    )

    conductor:addOption(
            "D_ask",
            "D_answer",
            { "A_ask", "B_ask", "C_ask" } -- éœ€è¦å‰ä¸‰ä¸ªå¯¹è¯å®Œæˆ
    )


    -- è¿è¡Œå¯¹è¯ç³»ç»Ÿ
    -- conductor:run()  -- å»ºè®®æ‹¿æ¥ç”¨åœ¨ Lua Cutscene ä¸­, è¯´å®Œæ‰€æœ‰è¯ä¹‹åå°±ç»“æŸ
    conductor:run("exit")  -- å¡«å…¥ dialog key åä¼šè‡ªåŠ¨æ·»åŠ ä¸€é¡¹ç”¨æ¥é€€å‡ºçš„æŒ‰é’®, å»ºè®®æ‹¿æ¥æ”¾åœ¨ Lua Talker ä¸­, æ–¹ä¾¿åå¤è¯¢é—®

    enableMovement()
end
```

#### è¿ç»­å¯¹è¯

æœ‰æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦[è·Ÿä¸€ä¸ªäººç‰©è¿›è¡Œå¤šæ¬¡å¯¹è¯](https://www.bilibili.com/video/BV1Dp4y1D7QR/?t=234), æ­é…ä¸Šä¸€äº› lua å‡½æ•°, ä½†æ˜¯å¦‚æœè‡ªå·±å†™ flag å»åˆ¤æ–­çš„è¯è¿˜æ˜¯ç•¥æ˜¾éº»çƒ¦, æ‰€ä»¥è¿™é‡Œä¹Ÿæä¾›ä¸€ä¸ªè¾…åŠ©ç±»æ¥å®ç°

<details>
<summary>dialog_sequence_helper.lua</summary>

```lua 
dialogSequenceHelper = {}
dialogSequenceHelper.__index = dialogSequenceHelper

function dialogSequenceHelper:new()
    local obj = {
        options = {}
    }
    setmetatable(obj, dialogSequenceHelper)
    return obj
end

function dialogSequenceHelper:addItem(dialogKeyOrCallback, id)
    table.insert(self.options, { dialogKeyOrCallback = dialogKeyOrCallback, id = id })
end

function dialogSequenceHelper:run()
    for _, value in pairs(self.options) do
        if not getFlag(value.id) then
            if type(value.dialogKeyOrCallback) == "string" then
                say(value.dialogKeyOrCallback)
            else
                value.dialogKeyOrCallback()
            end
            setFlag(value.id)
            break
        end
    end
end

return dialogSequenceHelper
```

</details>

ä½¿ç”¨æ–¹å¼å¦‚ä¸‹, æ•ˆæœæ˜¯æˆ‘ä»¬äº¤äº’ä¸€æ¬¡è§¦å‘ `dialogA`, å†äº¤äº’ä¸€æ¬¡è§¦å‘ `dialogB`, å†äº¤äº’ä¸€æ¬¡ä¼šè§¦å‘å¯¹åº”å‡½æ•°

```lua title="Mods/LuckyTestMap/Cutscenes/LuckyHelper/Test.lua"
local dialogSequenceHelper = loadCelesteAsset("Cutscenes/LuckyHelper/dialog_sequence_helper")

function onTalk()
    disableMovement()

    -- æ–°å»ºå¯¹è¯ç®¡ç†å™¨
    local sequence = dialogSequenceHelper:new()

    -- æ·»åŠ å¯¹è¯é€‰é¡¹
    sequence:addItem(
            "dialogA", -- å¡« dialog key, æˆ–è€…ä¸€ä¸ªå‡½æ•°
            "A"        -- id, ç”¨æ¥è®¾ç½® flag, æ–¹ä¾¿æˆ‘ä»¬åç»­åˆ¤æ–­è¦ä¸è¦ç»§ç»­è¿™ä¸ªå¯¹è¯
    )

    sequence:addItem(
            "dialogB",
            "B"
    )

    sequence:addItem(
            function()
                say("awa")
                wait(1)
                say("qwq")
                setFlag("talkEnd")  -- æ­é…å¤–éƒ¨ controller ä½¿ç”¨, ä¸ºäº†è®©äº¤äº’å›¾æ ‡éšè—
            end,
            "C"
    )

    -- è¿è¡Œ
    sequence:run()

    enableMovement()
end

```

<div class="admonition note">
    <p class="admonition-title">æ³¨æ„</p>
    <p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†å“ªæ€•ä½ èƒ½è¯´çš„è¯éƒ½è¯´å®Œäº† lua taker ä¹Ÿä¸ä¼šè‡ªåŠ¨å…³é—­äº¤äº’å›¾æ ‡, æ‰€ä»¥æ¨èä½¿ç”¨ <code>LuckyHelper/TalkComponentController</code> åŒ…è£¹ä½äº¤äº’å›¾æ ‡, å¹¶åœ¨ <code>hideIfFlag</code> ä¸€æ å¡«å…¥å¯¹åº” <code>flag</code>(æ¯”å¦‚è¿™é‡Œçš„ <code>talkEnd</code>), è¿™æ ·å°±å¯ä»¥è¾¾æˆè¯´å®Œè¯äº¤äº’å›¾æ ‡ä¹Ÿä¸ä¼šå¼¹å‡ºæ¥çš„æ•ˆæœäº†</p>
</div>

### Flag

#### åœ¨ç©å®¶é‡ç”Ÿæ—¶è®¾ç½® flag

ä½¿ç”¨ `MaxHelpingHand/SetFlagOnSpawnController` å³å¯, å¦‚æœç”¨ trigger åœ¨ player é‡ç”Ÿçš„æ—¶å€™è®¾ç½®å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ›´æ–°ä¸Šçš„æ—¶åºé—®é¢˜, è€Œä¸”æ‘†èµ·æ¥ä¹Ÿéº»çƒ¦