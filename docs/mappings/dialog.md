## å¼•ç”¨

* [Dialog æ•™ç¨‹ by Saplonily](https://saplonily.top/celeste_modding_tutorial/mapping/room_meta_text/#_7){:target="_blank"}
* [Dialog æ•™ç¨‹ by åº•é¾™](https://uddrg.notion.site/UnderDragon-s-Partial-Wiki-2737f4f27e63808582b3f0689163d8f9?p=2737f4f27e6380419593c9bedbe01795&pm=s){:target="_blank"}
* [Bç«™ Wiki çš„ Dialog æ•™ç¨‹](https://wiki.biligame.com/celeste/%E6%96%87%E6%9C%AC%E6%95%99%E7%A8%8B){:target="_blank"}
* [Everest Wiki çš„ Dialog æ•™ç¨‹](https://github.com/EverestAPI/Resources/wiki/Adding-Custom-Dialogue){:target="_blank"}
* [[Celesteè”šè“]ä½œå›¾æ•™ç¨‹ç¬¬å››ç« -èƒŒæ™¯, å…ƒæ•°æ®, æ–‡æœ¬æ•™ç¨‹](https://www.bilibili.com/video/BV1Av4y1D7a8/?t=158)

## ä»€ä¹ˆæ˜¯ Dialog

é¡¾åæ€ä¹‰å°±æ˜¯æ¸¸æˆä¸­ä¸€åˆ‡è·Ÿæ–‡æœ¬æœ‰å…³çš„ä¸œè¥¿, [ä¸»è¦åŒ…æ‹¬](https://wiki.biligame.com/celeste/%E6%96%87%E6%9C%AC%E6%95%99%E7%A8%8B#%E6%96%87%E6%9C%AC%E4%BD%BF%E7%94%A8){:target="_blank"}

* å¯¹è¯(äººç‰©å¯¹è¯æ–‡æœ¬)
* UI(ä¾‹å¦‚å¼€å§‹ç•Œé¢çš„æ–‡æœ¬, Modé€‰é¡¹ç•Œé¢çš„æ–‡æœ¬, æš‚åœç•Œé¢çš„æ–‡æœ¬, é€‰å…³ç•Œé¢çš„æ–‡æœ¬, æ˜ä¿¡ç‰‡ç­‰)

è¿™ä¹ˆå¤šæ–‡å­—å¿…å®šè¦å­˜æ”¾åœ¨æŸä¸ªåœ°æ–¹, ä¸åŒçš„è¯­è¨€ä¹Ÿè¦åšä¸åŒçš„åŒºåˆ†, é‚£ä¹ˆå®˜æ–¹çš„åšæ³•æ˜¯ä»€ä¹ˆå‘¢

å®˜æ–¹çš„åšæ³•æ˜¯ä¸€ç§è¯­è¨€å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„`.txt`, ä¸€æ®µ `æ–‡æœ¬` å¯¹åº” `.txt` ä¸­å”¯ä¸€çš„`id`, å«åš**é”®**, æˆ–è€…è¯´`key`, å½¢å¦‚ `test_key=æ–‡æœ¬`, è¿™æ ·æ¸¸æˆå°±å¯ä»¥æ ¹æ®ä½ çš„è¯­è¨€ä½¿ç”¨å¯¹åº”è¯­è¨€æ–‡ä»¶ä¸­çš„
`test_key`
æ¥è·å¾—å¯¹åº”çš„ `æ–‡æœ¬`, å°±åƒè¿™æ ·

![dialog_file_example](../assets/mappings/dialog/dialog_file_example.png){style="width: 1100px;"}

çŸ¥é“åŸç†åæˆ‘ä»¬å°±å¯ä»¥æ·»åŠ æ–°çš„`key`æ¥ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„æ–‡æœ¬, ç”šè‡³æ˜¯æ›¿æ¢å®˜å›¾æ–‡æœ¬(åŒåçš„keyååŠ è½½çš„çš„ä¼šè¦†ç›–å…ˆåŠ è½½çš„,
å¦‚ [FunnyDialog](https://www.bilibili.com/video/BV1Pz421i7SZ){:target="_blank"}), åœ¨ä½¿ç”¨ä¸Šæˆ‘ä»¬åªéœ€è¦å†™å¥½å¯¹è¯, åœ¨åœ°å›¾é‡Œæ”¾ä¸ªè§¦å‘å¯¹è¯çš„Trigger, ç„¶åå¡«å…¥å¯¹åº”çš„
`key` å°±å¥½äº†

## ç¼–å†™ Dialog

é¦–å…ˆåœ¨ä½  Mod æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª Dialog **æ–‡ä»¶å¤¹**å½¢æˆç±»ä¼¼ `Celeste/Mods/ä½ çš„modå/Dialog/` çš„ç›®å½•ç»“æ„

æ¥ç€ä½ å°±å¯ä»¥åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º[å„ç§è¯­è¨€çš„`.txt`](https://github.com/EverestAPI/Resources/wiki/Adding-Custom-Dialogue#setting-up-the-dialogue-file){:target="_blank"}
æ–‡ä»¶æ¥åšä¸åŒè¯­è¨€çš„ç¿»è¯‘å’Œæ·»åŠ æ–‡æœ¬çš„å·¥ä½œ, ä½†ä¸€èˆ¬åŠ è‹±æ–‡ `English.txt` (å¿…å¤‡)è·Ÿä¸­æ–‡ `Simplified Chinese.txt` å°±å¤Ÿäº†

å†™å¥½å¯¹åº”çš„æ–‡æœ¬ååœ¨å¯¹åº” Trigger ä¸­å¡«å…¥å¯¹åº” `id/key` å³å¯

### å¸¸ç”¨å¯¹è¯ Trigger

å¦‚æœè¦æ·»åŠ è‡ªå®šä¹‰æ–‡æœ¬é”®åä¸€å®šè¦é•¿~, ä¸ç„¶å¾ˆå¯èƒ½å’Œåˆ«äººé‡äº†å‡ºé—®é¢˜, ä¸€èˆ¬å»ºè®®æ˜¯ `ä½œè€…å_å›¾å_é”®å`

* Minitextbox Trigger(trigger)
* Everest Dialog Cutscene(trigger)
* Custom NPC(entity)

### æ³¨æ„äº‹é¡¹

* `=`å·¦è¾¹ä¸è¦æœ‰ç©ºæ ¼
* å¦‚æœä½ å¼€ç€æ¸¸æˆæ–°å»ºäº†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¯èƒ½å¯¼è‡´çƒ­æ›´å¤±æ•ˆ, è¿™ä¹Ÿæ˜¯å¾ˆå¤šæ—¶å€™ key å¡«å¯¹äº†ä½†æ˜¯æ²¡å¯¹è¯çš„åŸå› , å»ºè®®æŒ‰ä½ `Ctrl + F5` å¿«é€Ÿé‡å¯æ¸¸æˆçœ‹çœ‹æ˜¯ğŸ–äº†è¿˜æ˜¯çƒ­æ›´åäº†

## å¸¸ç”¨éƒ¨åˆ†

æ¨èä¸‹è½½ [VSCode](https://code.visualstudio.com/){:target="_blank"} å¹¶å®‰è£… **Celeste Dialog Highlighter** æ’ä»¶

* [æ–‡æœ¬æ±‰åŒ–](https://saplonily.top/celeste_modding_tutorial/mapping/room_meta_text/#_8){:target="_blank"}: å›¾å, åƒå¿ƒæ–‡æœ¬, æ˜ä¿¡ç‰‡, remix
* [æ–‡å­—æ•ˆæœ](https://wiki.biligame.com/celeste/%E6%96%87%E6%9C%AC%E6%95%99%E7%A8%8B#%E6%96%87%E5%AD%97%E6%95%88%E6%9E%9C){:target="_blank"}: æŠ–åŠ¨, æ”¹è‰², å˜é€Ÿç­‰
* [å¯¹è¯æ•ˆæœ](https://wiki.biligame.com/celeste/%E6%96%87%E6%9C%AC%E6%95%99%E7%A8%8B#%E5%AF%B9%E8%AF%9D%E6%95%88%E6%9E%9C){:target="_blank"}: ç¿»è½¬å¤´åƒ, å¯¹è¯æ¡†ç½®åº•, å¼•ç”¨ç­‰
* [äººç‰©è¡¨æƒ…](https://wiki.biligame.com/celeste/%E6%96%87%E6%9C%AC%E6%95%99%E7%A8%8B#%E4%BA%BA%E7%89%A9%E8%A1%A8%E6%83%85){:target="_blank"}(ä¹Ÿå¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥ `portraits` æ¥æŸ¥çœ‹)
* [æ·»åŠ å¯¹è¯ emoji](https://github.com/EverestAPI/Resources/wiki/Adding-Custom-Dialogue#custom-emotes){:target="_blank"}
  æŠŠä½ çš„ emoji å›¾ç‰‡æ”¾åˆ° `Graphics/Atlases/Gui/emoji` ç›®å½•ä¸‹(`.png` æ ¼å¼), å¯¹è¯å¯¹åº”æ–‡æœ¬ä¸º `:ä½ çš„å›¾ç‰‡ç›¸å¯¹è·¯å¾„(ä¸å¸¦.png):`, ä¾‹å¦‚`:MyCelesteMod/shock:`
* [Lua Cutsceneè¿‡åœºåŠ¨ç”»](lua/lua_cutscene.md): å³æ­é…å¯¹è¯çš„æ¼”å‡º
* [å…¥åœºæ˜ä¿¡ç‰‡](https://www.bilibili.com/video/BV1Av4y1D7a8/?t=179){:target="_blank"},
  [æ¸¸æˆä¸­æ˜ä¿¡ç‰‡](https://saplonily.top/celeste_mod_tutorial/extra_luacs/reference/#postcard){:target="_blank"}
* [æ›¿æ¢äººç‰©å¤´åƒ](./xml/portraits_xml.md)

### ä¿®æ”¹è‡ªå·±åœ°å›¾åç§°å’Œåƒå¿ƒæ–‡æœ¬

* [æ•™ç¨‹ by Everest](https://github.com/EverestAPI/Resources/wiki/map-metadata#map-name){:target="_blank"}
* [æ•™ç¨‹ by ç”µç®±](https://www.bilibili.com/video/BV1Av4y1D7a8/?t=174){:target="_blank"}

æœ€ç®€å•ç²—æš´è¯†åˆ«å“ªäº›ä¸œè¥¿æ˜¯é”®åçš„æ–¹æ³•å°±æ˜¯é‚£ä¸€ä¸²ä¸œè¥¿æ˜¯ä¸æ˜¯è¢«å¤§æ‹¬å·`{}`æˆ–è€…ä¸­æ‹¬å·`[]`åŒ…ç€(å› ä¸ºè”šè“ä¼šæŠŠæ— æ³•è¯†åˆ«çš„é”®ç”¨æ‹¬å·åŒ…ç€æ˜¾ç¤ºå‡ºæ¥), æ‰€ä»¥ç…§æŠ„å°±å¥½äº†, ä¾‹å¦‚

![localization](../assets/mappings/dialog/localization/localization0.png){style="width: 200px; title="123"}
![localization](../assets/mappings/dialog/localization/localization3.png){style="width: 200px; title="123"}

![localization](../assets/mappings/dialog/localization/localization1.png){style="width: 350px; title="123"}
![localization](../assets/mappings/dialog/localization/localization4.png){style="width: 350px; title="123"}

![localization](../assets/mappings/dialog/localization/localization2.png){style="width: 450px; title="123"}
![localization](../assets/mappings/dialog/localization/localization5.png){style="width: 300px; title="123"}

```ini title="Simplified Chinese.txt"
Lucky_Tutorial= æ•™ç¨‹å°æ ‡é¢˜
Lucky_Tutorial_CelesteWikiTutorial= æ•™ç¨‹ä¸»æ ‡é¢˜
poem_Lucky_Tutorial_CelesteWikiTutorial_A= ä½ å¥½, æˆ‘æ˜¯çˆ±å¿ƒ
```

## å¸¸ç”¨å·¥å…·

* [Dialog å›¾å½¢åŒ–ç•Œé¢ç¼–è¾‘å·¥å…· by Saplonily]()(ç¾¤æ–‡ä»¶, æ–½å·¥ing)
* [å­—åº“ç”Ÿæˆå™¨](https://maddie480.ovh/celeste/font-generator){:target="_blank"}

## FAQ

### [ä¸ºä»€ä¹ˆæˆ‘æ–‡æœ¬ç¼ºå­—äº†](https://github.com/EverestAPI/Resources/wiki/Adding-Custom-Dialogue#custom-font-loading){:target="_blank"}

å› ä¸ºè”šè“å­—åº“é‡Œæ²¡æœ‰,
è¯·è‡ªå·±æŒ‰[ç¤ºä¾‹](https://www.bilibili.com/video/BV1A14y1W7hr){:target="_blank"}ç”Ÿæˆ([å­—åº“ç”Ÿæˆç½‘ç«™](https://maddie480.ovh/celeste/font-generator){:target="_blank"}),
æˆ–è€…ä½ ç›´æ¥ä¾èµ– [`Extended Chinese Font`](https://gamebanana.com/mods/53736){:target="_blank"}/[`Chinese Font Pack`](https://gamebanana.com/mods/493138){:target="_blank"}è¿™ä¸ªMod,
å¤§æ¦‚ç‡ä¸ä¼šç¼ºå­—(~~è™½ç„¶å¯èƒ½è¿˜æ˜¯ä¼šç¼º~~)

## å¸¸ç”¨ Dialog å®ä½“/Trigger

### MaxHelpingHand/CustomCh3Memo

![memo_with_icon](../assets/mappings/dialog/entities/memo_with_icon.png){style="width: 800px; title="123"}

#### åˆ¶ä½œæ—  Icon ç‰ˆæœ¬

ç´ æ

![memo](../assets/mappings/dialog/entities/memo.png){style="width: 300px; title="123"}

ç„¶åæŠŠå®˜å›¾ç´ æä» `Graphics/Atlases/Memo` ç²˜è´´åˆ°ä½ çš„ Mod ä¸‹, æ”¹ä¸ªå, ä¹‹ååœ¨å±æ€§æ  `Paper Sprite Folder Name` é‡Œå¡«ä¸Šæ–‡ä»¶å¤¹åå­—å³å¯(æ¯”å¦‚æˆ‘è¿™é‡Œçš„ `awa`), è¿˜æœ‰å°±æ˜¯åˆ«å¿˜äº†æŠŠå¦ä¸¤ä¸ªç´ æç»™æ¸…ç©º,
ä¸ç„¶è¿˜æ˜¯ä¼šæœ‰ icon

![s1](../assets/mappings/dialog/entities/s1.png){style="width: 800px; title="123"}

æˆå“

![memo_with_no_icon](../assets/mappings/dialog/entities/memo_with_no_icon.png){style="width: 800px; title="123"}

